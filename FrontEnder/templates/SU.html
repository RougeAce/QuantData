<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>SignIn/SignUp</title>
    <link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='authentication.css') }}">
</head>
<body>
    <h1 id="ticker">Sign-Up</h1>
    <hr>
    <div class="button-container">

            <input class="text_bar" type="email" id="email" placeholder="Email">
<input class="text_bar" type="text" id="username" placeholder="Username">
<input class="text_bar" type="password" id="password" placeholder="Password">

<script>
function submitForm() {
    var email = document.getElementById("email").value;
    var username = document.getElementById("username").value;
    var password = document.getElementById("password").value;

    var data = {
        email: email,
        username: username,
        password: password
    };

    fetch('/requestsignup', {
        method: 'POST',
        headers: {
            'Content-Type': 'application/json'
        },
        body: JSON.stringify(data)
    })
    .then(response => {
        // Handle the response
        if (response.ok) {
            // Request was successful
            alert("Request sent successfully!");
            // You can perform any additional actions here
        } else {
            // Request failed
            alert("Request failed!");
            // You can handle the error or display an error message
        }
    })
    .catch(error => {
        // Handle any error that occurred during the fetch request
        console.error('Error:', error);
    });
}
</script>
<button class="button" onclick="submitForm()">Send Code</button>

        <input class="text_bar" type="password" id="authentication" placeholder="CODE">
        <button class="button" onclick="summitCode()">Sign Up</button>

        <script>
            function summitCode() {
                var code = document.getElementById('authentication').value;
                var email = document.getElementById('email');
                var username = document.getElementById('username');
                var password = document.getElementById('password');

                var data = {
        email: email,
        username: username,
        password: password,
        Code: code
    };
                fetch('/requestsignup/requestauthentcation', {
        method: 'POST',
        headers: {
            'Content-Type': 'application/json'
        },
        body: JSON.stringify(data)
    })
    .then(response => {
        // Handle the response
        if (response.ok) {
            // Request was successful
            alert("Request sent successfully!");
            // You can perform any additional actions here
        } else {
            // Request failed
            alert("Request failed!");
            // You can handle the error or display an error message
        }
    })
    .catch(error => {
        // Handle any error that occurred during the fetch request
        console.error('Error:', error);
    });



            }
        </script>

    </div>
</body>
</html>
